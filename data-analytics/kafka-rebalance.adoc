---
sidebar: sidebar 
permalink: data-analytics/kafka-rebalance.html 
keywords: rebalance, test, self balancing, brokers 
summary: 此測試基於自平衡叢集功能，可根據叢集拓撲變化或不均勻負載自動重新平衡。 
---
= 融合自平衡集群
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
如果您以前曾管理過 Kafka 集群，那麼您可能熟悉手動將分區重新分配給不同代理以確保整個集群的工作負載平衡所帶來的挑戰。對於部署大量 Kafka 的組織來說，重新整理大量資料可能是一項艱鉅、繁瑣且有風險的任務，尤其是在叢集之上建立關鍵任務應用程式時。然而，即使對於最小的 Kafka 用例，該過程也很耗時且容易出現人為錯誤。

在我們的實驗室中，我們測試了 Confluent 自平衡叢集功能，該功能可以根據叢集拓撲變化或不均勻負載自動重新平衡。 Confluent 重新平衡測試有助於測量節點發生故障或擴展節點需要在代理之間重新平衡資料時新增代理的時間。在經典的 Kafka 配置中，需要重新平衡的資料量會隨著叢集的成長而成長，但在分層儲存中，重新平衡僅限於少量資料。根據我們的驗證，在經典的 Kafka 架構中，分層儲存中的重新平衡需要幾秒鐘或幾分鐘，並且隨著叢集的增長而線性增長。

在自平衡叢集中，分區重新平衡完全自動化，以優化 Kafka 的吞吐量，加速代理擴展，並減少運行大型叢集的營運負擔。在穩定狀態下，自平衡叢集監控代理之間的資料偏差，並不斷重新分配分區以優化叢集效能。當擴大或縮小平台規模時，自平衡群集會自動識別新代理的存在或舊代理的刪除，並觸發後續分區重新分配。這使您能夠輕鬆地新增和停用代理，從而使您的 Kafka 叢集從根本上更加有彈性。這些好處不需要任何人工幹預、複雜的數學運算或分區重新分配通常帶來的人為錯誤風險。因此，資料重新平衡可以在更短的時間內完成，您可以自由地專注於更高價值的事件流項目，而不需要不斷監督您的叢集。
